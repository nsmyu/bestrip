<div class="card mb-3 mx-auto max-width-500">
  <div class="card-body py-3 text-dark">
    <h6 class="border-bottom pb-1">旅のメンバー</h6>
    <% @itinerary_members.each do |member| %>
      <div class="d-flex justify-content-between mt-3 align-items-center">
        <%= link_to [:user, id: member.id], class:"hover-opacity" do %>
          <%= image_tag member.avatar.url, class: "rounded-circle avatar-thumbnail me-2", alt: "#{member.name}のプロフィール画像" %>
          <p class="d-inline text-sm text-dark"><%= member.name %></p>
        <% end %>
        <% if current_user == @itinerary.owner && member!= @itinerary.owner %>
          <%= link_to [:itinerary_user, id: @itinerary.id, user_id: member.id], data: { turbo_method: :delete, turbo_confirm: member.name + 'さんをメンバーから削除しますか？' } do %>
            <i class="material-icons p-2 fw-normal text-secondary link-area rounded-circle">person_remove</i>
          <% end %>
        <% end %>
      </div>
    <% end %>
    <div class="mt-4 mb-2 pt-3">
      <h6 class="border-bottom pb-1">メンバーを追加</h6>
      <div class="row d-flex justify-content-evenly mt-4 mx-auto w-90">
        <div class="col pe-0 text-center">
          <%= link_to :find_by_bestrip_id_itinerary, class: "d-inline-block", data: { turbo_frame: "modal" } do %>
            <div class="mx-auto border border-primary text-primary rounded-circle invitation-icon hover-opacity d-flex align-items-center justify-content-center">
              <%= image_tag "favicon.png", style:"height:24px;" %>
            </div>
          <% end %>
          <p class="text-xs mt-2">IDで検索
          <span class="material-icons text-md" style="vertical-align: -3.5px;" data-bs-toggle="tooltip" data-bs-placement="bottom"
            title="追加したい方のBesTrip IDが分かる場合は、ID検索をご利用いただけます。">help</span>
          </p>
        </div>
        <div class="col text-center">
          <%= link_to [:new_user_invitation, itinerary_id: @itinerary.id], class: "d-inline-block", data: { turbo_frame: "modal" } do %>
            <div class="mx-auto border border-accent text-accent rounded-circle invitation-icon d-flex align-items-center justify-content-center">
              <i class="material-icons-outlined hover-opacity">email</i>
            </div>
          <% end %>
          <p class="text-xs mt-2">メールで招待</p>
        </div>
        <div class="col ps-0 text-center">
          <%= form_with url: [:itinerary_pending_invitations, itinerary_id: @itinerary.id], data: { turbo_frame: "line_invitation" } do |f| %>
            <label for="line_invitation_btn" class="m-0 cursor-pointer">
              <%= f.submit "LINEで招待する", class: "d-none", id: "line_invitation_btn" %>
              <%= image_tag "LINE_icon.png", class:"invitation-icon hover-opacity" %>
            </label>
          <% end %>
          <p class="text-xs mt-2">LINEで招待</p>
          <%= turbo_frame_tag "line_invitation", data: { controller: "line-invitation", action: "turbo:frame-render->line-invitation#popupWindow" } %>
        </div>
      </div>
    </div>
  </div>
</div>
