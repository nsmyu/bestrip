<% provide :title, "旅のプラン一覧" %>
<%= render 'layouts/sidenav' %>
<main class="main-content position-relative">
  <h5 class="page-heading">旅のプラン一覧</h5>
  <div class="container-fluid py-4 px-0 px-sm-2 min-vh-100">
    <div class="max-width-850 mx-auto">
      <div class="row mx-0">
        <% if @itineraries.blank? %>
          <p class="p-4 text-center text-sm text-dark">旅のプランは登録されていません</p>
        <% else %>
          <% @itineraries.each do |itinerary| %>
            <div class="col-sm-6 mb-3 mb-sm-4 px-0">
              <%= link_to [:itinerary, id: itinerary.id], class: "hover-opacity", data: { turbo: false } do %>
                <div class="card mx-sm-2 mx-md-3 p-3 p-md-4 cursor-pointer">
                  <div class="row">
                    <div class="col-5 col-sm-12">
                      <%= image_tag itinerary.image.url, class: "mb-0 mb-sm-3 border-radius-lg w-100" %>
                    </div>
                    <div class="col-7 col-sm-12">
                      <p class="d-none d-sm-block mb-0 text-dark fw-bold text-ellipsis"><%= itinerary.title %></p>
                      <p class="d-sm-none mb-1 text-dark fw-bold text-ellipsis"><%= itinerary.title %></p>
                      <p class="d-none d-sm-block text-dark text-sm"><%= l itinerary.departure_date %> 〜 <%= l itinerary.return_date %></p>
                      <p class="d-sm-none text-dark text-xs"><%= l itinerary.departure_date %> 〜 <%= l itinerary.return_date %></p>
                      <div class="mt-2 d-flex align-items-center text-dark text-sm text-ellipsis">
                        <i class="material-icons me-2">group</i>
                        <p class="text-sm"><%= member_names(itinerary) %></p>
                      </div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <%= render partial: 'layouts/fixed_button', locals: { path: :new_itinerary, link_text: "新しいプランを作成" } %>
</main>
