<%= turbo_frame_tag "favorites" do %>
  <% @place_details_list.each do |place| %>
    <div class="col-md-6 mb-3 mb-md-4 mx-sm-0 px-0 max-width-500">
      <div class="card p-3 mx-2 mx-md-3 position-relative">
        <div class="row">
          <div class="col-5 ps-3 pe-0">
            <%= image_tag place[:photo_url], class: "square-image w-100" %>
          </div>
          <div class="col-7 px-3">
            <% if place[:error] %>
              <p class="error-message"><%= place[:error] %></p>
            <% else %>
              <div class="h-65">
                <p class="pe-4 text-sm text-dark fw-bold lh-sm"><%= place[:name] %></p>
                <p class="mb-3 text-xs text-dark pt-1">クチコミ評価<i class="material-icons rating-icon ps-1">star</i><%= place[:rating] %></p>
              </div>
              <%= link_to [:favorite, id: place[:favorite_id]], data: { turbo_method: :delete, turbo_confirm: 'このスポットをお気に入りから削除しますか？', turbo_frame: "_top" }, class: "position-absolute top-8 end-2 text-secondary" do %>
                <i class="material-icons rounded-circle p-1 link-area">close</i>
              <% end %>
              <div class="row mx-0">
                <%= link_to "スポット詳細", [:favorite, id: place[:favorite_id]], data: { turbo_frame: "modal" }, class: "col btn btn-sm btn-outline-primary mb-0 me-2 p-1" %>
                <%= link_to "プランに追加", destinations_select_itinerary_itineraries_path(favorite_id: place[:favorite_id]), data: { turbo_frame: "modal" }, class: "col btn btn-sm btn-primary mb-0 p-1" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
  <%= paginate @paginatable_favorites, window: 1 %>
<% end %>
